<!DOCTYPE html>
<html lang="ko">
<!-- 2025-08-06 송주현 새로 작성 -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover, maximum-scale=1.0, minimum-scale=1.0, shrink-to-fit=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#000000">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    
    <!-- 웹앱 정보 -->
    <meta name="mobile-web-app-title" content="카메라">
    <meta name="application-name" content="카메라">
    <title> 카메라</title>
    <link rel="stylesheet" href="camera.css">
    
    <!-- 아래 스크립트는 돔 요소이기 때문에 반드시 html페이지 안에 있어야 문제 없이 작동합니다 따로 js 파일로 분리하면 안됩니다. -->
    <!-- 스크롤 방지만 -->
    <script>
        // 스크롤 완전 차단
        document.addEventListener("scroll", (e) => {
            e.preventDefault();
            window.scrollTo(0, 0);
        }, { passive: false });
        
        document.addEventListener("touchmove", (e) => {
            e.preventDefault();
        }, { passive: false });
        
        // 주소창 숨기기 시도
        function hideAddressBar() {
            window.scrollTo(0, 1);
            setTimeout(() => window.scrollTo(0, 0), 50);
        }
        
        // 페이지 로드 시 한 번만
        window.addEventListener("load", hideAddressBar);
        
    </script>
    
    <script src="camera.js" defer></script>
</head>

<body>
    <div class="camera_warp">

        <div class="shot_area" id="captureArea">
            <video id="video" autoplay playsinline muted style="width: 100%; height: 100%; object-fit: cover; transform-origin: center;"></video>
            <canvas id="canvas"></canvas>
            <canvas id="canvas_raw"></canvas>
            <canvas id="canvas_thumb"></canvas>



        </div>
        
        <!-- 하단 검정 컨트롤 영역 -->
        <div class="control-wrap">
            <!-- 줌 컨트롤을 검정색 바 내부로 이동 -->
            <div class="zoom-controls">
                <div class="zoom-control-bar">
                    <button class="zoom-btn active" data-zoom="1" onclick="setZoom(1)">1×</button>
                    <button class="zoom-btn" data-zoom="2" onclick="setZoom(2)">2×</button>
                    <button class="zoom-btn" data-zoom="3" onclick="setZoom(3)">3×</button>
                </div>
            </div>
            
            <div class="action-bar">
                <!-- 썸네일 -->
                <div class="thumbnail-container" id="thumbnailContainer" onclick="showPhotoList()">
                    <div class="thumbnail-placeholder">
                        <span>
                          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#fff"><path d="M120-200q-33 0-56.5-23.5T40-280v-400q0-33 23.5-56.5T120-760h400q33 0 56.5 23.5T600-680v400q0 33-23.5 56.5T520-200H120Zm600-320q-17 0-28.5-11.5T680-560v-160q0-17 11.5-28.5T720-760h160q17 0 28.5 11.5T920-720v160q0 17-11.5 28.5T880-520H720Zm40-80h80v-80h-80v80ZM120-280h400v-400H120v400Zm40-80h320L375-500l-75 100-55-73-85 113Zm560 160q-17 0-28.5-11.5T680-240v-160q0-17 11.5-28.5T720-440h160q17 0 28.5 11.5T920-400v160q0 17-11.5 28.5T880-200H720Zm40-80h80v-80h-80v80Zm-640 0v-400 400Zm640-320v-80 80Zm0 320v-80 80Z"/></svg></span>
                    </div>
                </div>

                <!-- 촬영 버튼 -->
                <button class="capture-btn" id="captureBtn" onclick="capturePhoto()">
                    <div class="capture-btn-inner"></div>
                </button>

                <!-- 빈 공간 (대칭성을 위해) -->
                <div class="mode-container"></div>
        </div>
            </div>
    
    </div>

</body>
</html>